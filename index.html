<!DOCTYPE html><html lang="zh-Hans" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>君子不器 - --</title><meta name="author" content="胡晃凤"><meta name="copyright" content="胡晃凤"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="黑夜给了我黑色的眼睛，我用它寻找光明">
<meta property="og:type" content="website">
<meta property="og:title" content="君子不器">
<meta property="og:url" content="http://ahuang.ltd/index.html">
<meta property="og:site_name" content="君子不器">
<meta property="og:description" content="黑夜给了我黑色的眼睛，我用它寻找光明">
<meta property="og:locale">
<meta property="og:image" content="https://i.loli.net/2021/03/18/nxeKUubRN95fkXM.jpg">
<meta property="article:author" content="胡晃凤">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2021/03/18/nxeKUubRN95fkXM.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://ahuang.ltd/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="yandex-verification" content="{&quot;theme_color&quot;:{&quot;enable&quot;:true,&quot;main&quot;:&quot;#49B1F5&quot;,&quot;paginator&quot;:&quot;#00c4b6&quot;,&quot;button_hover&quot;:&quot;#FF7242&quot;,&quot;text_selection&quot;:&quot;#00c4b6&quot;,&quot;link_color&quot;:&quot;#99a9bf&quot;,&quot;meta_color&quot;:&quot;#858585&quot;,&quot;hr_color&quot;:&quot;#A4D8FA&quot;,&quot;code_foreground&quot;:&quot;#F47466&quot;,&quot;code_background&quot;:&quot;rgba(27, 31, 35, .05)&quot;,&quot;toc_color&quot;:&quot;#00c4b6&quot;,&quot;blockquote_padding_color&quot;:&quot;#49b1f5&quot;,&quot;blockquote_background_color&quot;:&quot;#49b1f5&quot;}}"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":50,"languages":{"author":"Author: 胡晃凤","link":"Link: ","source":"Source: 君子不器","info":"Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source."}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: true
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}

// https://stackoverflow.com/questions/16839698/jquery-getscript-alternative-in-native-javascript
const getScript = url => new Promise((resolve, reject) => {
  const script = document.createElement('script')
  script.src = url
  script.async = true
  script.onerror = reject
  script.onload = script.onreadystatechange = function() {
    const loadState = this.readyState
    if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
    script.onload = script.onreadystatechange = null
    resolve()
  }
  document.head.appendChild(script)
})</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: false,
  isHome: true,
  isHighlightShrink: undefined,
  isToc: false,
  postUpdate: '2021-05-08 16:11:31'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
   if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }
  const autoChangeMode = 'false'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified
    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }const asideStatus = saveToLocal.get('aside-status')
if (asideStatus !== undefined) {
   if (asideStatus === 'hide') {
     document.documentElement.classList.add('hide-aside')
   } else {
     document.documentElement.classList.remove('hide-aside')
   }
}const fontSizeVal = saveToLocal.get('global-font-size')
if (fontSizeVal !== undefined) {
  document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
}})()</script><meta name="generator" content="Hexo 5.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">Loading...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="https://i.loli.net/2021/03/18/nxeKUubRN95fkXM.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">23</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">17</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url(https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/index.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">君子不器</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">君子不器</h1><div id="site-subtitle"><span id="subtitle"></span></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/05/08/mysql-binlog/" title="mysql-binlog">     <img class="post_bg" src="https://i.loli.net/2021/03/26/t5Pl6WMBKk3rqSs.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="mysql-binlog"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/05/08/mysql-binlog/" title="mysql-binlog">mysql-binlog</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-05-08T08:09:30.000Z" title="Created 2021-05-08 16:09:30">2021-05-08</time></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/mysql/">mysql</a></span></div><div class="content">binlog-常用命令1234567891011121314151617181920212223242526272829303132333435363738394041424344454647# 是否启用binlog日志show variables like &#39;log_bin&#39;;# 查看详细的日志配置信息show global variables like &#39;%log%&#39;;# mysql数据存储目录show variables like &#39;%dir%&#39;;# 查看binlog的目录show global variables like &quot;%log_bin%&quot;;# 查看当前服务器使用的biglog文件及大小show binary logs;# 查看主服务器使用的biglog文件及大小# 查看最新一个binlog日志文件名称和Positionshow master status;# 事件查询命令# IN &#39;log_name&#39; ：指定要查询的binlog文件名(不指定就是第一个binlog文件)# FROM po ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/05/08/Jenkins-PluginManagement/" title="Jenkins-PluginManagement">     <img class="post_bg" src="https://i.loli.net/2021/03/26/t5Pl6WMBKk3rqSs.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Jenkins-PluginManagement"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/05/08/Jenkins-PluginManagement/" title="Jenkins-PluginManagement">Jenkins-PluginManagement</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-05-08T02:37:50.000Z" title="Created 2021-05-08 10:37:50">2021-05-08</time></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/jenkins/">jenkins</a></span></div><div class="content">onlineActive ChoicesAuthorize Projectbouncycastle API PluginBuild Authorization Token RootBuild Pipeline PluginCommand Agent LauncherDocker PipelineExternal Monitor Job Type PluginGit ParameterGitlab AuthenticationGitlab Hook PluginGitLab PluginJob Configuration History PluginLocale pluginMonitoringNodeJSPAM Authentication pluginPipelinePipeline Maven IntegrationPublish Over SSHPyenv Pipeline Pluginpyenv pluginPython PluginRole-based Authorization StrategySSH Pipeline StepsSSH pluginWMI Windows  ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/04/26/Spring%E5%BE%AA%E7%8E%AF%E4%BE%9D%E8%B5%96%E9%97%AE%E9%A2%98/" title="Spring循环依赖问题">     <img class="post_bg" src="https://i.loli.net/2021/04/26/c54glxNrvUZYDFI.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spring循环依赖问题"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/04/26/Spring%E5%BE%AA%E7%8E%AF%E4%BE%9D%E8%B5%96%E9%97%AE%E9%A2%98/" title="Spring循环依赖问题">Spring循环依赖问题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-04-26T08:56:32.000Z" title="Created 2021-04-26 16:56:32">2021-04-26</time></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/Spring-java/">Spring java</a></span></div><div class="content">Spring框架系列 Spring循环依赖问题情况:今天项目在预发布环境CD,在启动项目时报以下类似错误，将报错截图给研发后，自己查了查暂定义为JAVA Spring经典的循环依赖问题
1Caused by: org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#x27;**********&#x27;: Bean with name &#x27;**********&#x27;
1，什么是循环依赖先上代码，A类构造器中返回一个B类实例，B类构造器中返回一个A类实例，这就是循环依赖-构造器依赖
1234567891011public class A &#123;    public A() &#123;new B();&#125;&#125; public class B &#123;    public B() &#123;new A();&#125;&#125; public static void main(Stirng[] args) ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/04/25/ocserv/" title="ocserv">     <img class="post_bg" src="https://i.loli.net/2021/04/25/VsgNXUAFuChBxST.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ocserv"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/04/25/ocserv/" title="ocserv">ocserv</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-04-25T03:09:03.000Z" title="Created 2021-04-25 11:09:03">2021-04-25</time></span></div><div class="content"></div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/04/22/ECS-OpenVpn/" title="ECS-OpenVpn">     <img class="post_bg" src="https://i.loli.net/2021/04/26/zdhHr3KLJVaARw9.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ECS-OpenVpn"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/04/22/ECS-OpenVpn/" title="ECS-OpenVpn">ECS-OpenVpn</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-04-22T06:50:56.000Z" title="Created 2021-04-22 14:50:56">2021-04-22</time></span></div><div class="content"></div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/04/15/iptables/" title="iptables">     <img class="post_bg" src="https://i.loli.net/2021/03/26/eKUlVJFwaY8tsQj.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="iptables"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/04/15/iptables/" title="iptables">iptables</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-04-15T07:01:30.000Z" title="Created 2021-04-15 15:01:30">2021-04-15</time></span></div><div class="content">-A FORWARD -s 192.168.5.0/24 -j ACCEPT
</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/04/01/deploy-ELK/" title="deploy_ELK">     <img class="post_bg" src="https://i.loli.net/2021/04/27/9RSNHtfWAVkLIGY.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="deploy_ELK"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/04/01/deploy-ELK/" title="deploy_ELK">deploy_ELK</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-04-01T09:48:57.000Z" title="Created 2021-04-01 17:48:57">2021-04-01</time></span></div><div class="content">ELKvim /etc/security/limits.conf
123456root soft nofile 65536root hard nofile 65536* soft nofile 65536* hard nofile 65536* - nofile 65536* - memlock unlimited</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/03/25/flink/" title="flink">     <img class="post_bg" src="https://i.loli.net/2021/03/26/eKUlVJFwaY8tsQj.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="flink"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/03/25/flink/" title="flink">flink</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-03-25T09:42:46.000Z" title="Created 2021-03-25 17:42:46">2021-03-25</time></span></div><div class="content">Apache Flink Apache Flink 是一个框架和分布式处理引擎，用于在无边界和有边界数据流上进行有状态的计算。Flink 能在所有常见集群环境中运行，并能以内存速度和任意规模进行计算
</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/02/07/DevWord/" title="DevWord">     <img class="post_bg" src="https://i.loli.net/2021/04/25/VsgNXUAFuChBxST.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="DevWord"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/02/07/DevWord/" title="DevWord">DevWord</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-02-07T08:41:28.000Z" title="Created 2021-02-07 16:41:28">2021-02-07</time></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/java-springcloud/">java springcloud</a></span></div><div class="content">java 项目报错 The bean ‘**-Openapi-SERVICE.FeignClientSpecification’ could not be registered. A bean with that name has already been defined and overriding is disabled。spring cloud 开发项目中有一个OtherApi报错，导致重复启动项目，查到原因为把多个消费者放在一个控制层的包的里的时候会包这个错，那是因为，多个同名的消费者早在注册中心都是同名注册的，所以需要加配置
在application.properties文件加入以下代码：
12#允许存在多个Feign调用相同Service的接口spring.main.allow-bean-definition-overriding=true </div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/02/05/Operations/" title="Operations">     <img class="post_bg" src="https://i.loli.net/2021/04/26/zdhHr3KLJVaARw9.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Operations"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/02/05/Operations/" title="Operations">Operations</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-02-05T10:05:42.000Z" title="Created 2021-02-05 18:05:42">2021-02-05</time></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/linux-shell-grep-awk-sed/">linux shell grep awk sed</a></span></div><div class="content">初衷和结果往往无法对应 打印linux系统磁盘使用情况，用自定义方式对应
12345df -h |awk &#x27;&#123;if($5&gt;20) print &quot;分区:&quot;$1,&quot;总空间:&quot;$2,&quot;使用空间:&quot;$3,&quot;剩余空间:&quot;$4,&quot;磁盘使用率:&quot;$5,&quot;磁盘挂载目录:&quot;$6&#125;&#x27;  分区:Filesystem 总空间:Size 使用空间:Used 剩余空间:Avail 磁盘使用率:Use% 磁盘挂载目录:Mounted  分区:/dev/vda1 总空间:40G 使用空间:7.2G 剩余空间:31G 磁盘使用率:20% 磁盘挂载目录:/  分区:/dev/vdb1 总空间:99G 使用空间:90G 剩余空间:4.1G 磁盘使用率:96% 磁盘挂载目录:/home/meisapp</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="https://i.loli.net/2021/03/18/nxeKUubRN95fkXM.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">胡晃凤</div><div class="author-info__description">黑夜给了我黑色的眼睛，我用它寻找光明</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">23</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">17</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>Announcement</span></div><div class="announcement_content">鱼跃此时海，花开彼岸天</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/05/08/mysql-binlog/" title="mysql-binlog"><img src="https://i.loli.net/2021/03/26/t5Pl6WMBKk3rqSs.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="mysql-binlog"/></a><div class="content"><a class="title" href="/2021/05/08/mysql-binlog/" title="mysql-binlog">mysql-binlog</a><time datetime="2021-05-08T08:09:30.000Z" title="Created 2021-05-08 16:09:30">2021-05-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/05/08/Jenkins-PluginManagement/" title="Jenkins-PluginManagement"><img src="https://i.loli.net/2021/03/26/t5Pl6WMBKk3rqSs.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Jenkins-PluginManagement"/></a><div class="content"><a class="title" href="/2021/05/08/Jenkins-PluginManagement/" title="Jenkins-PluginManagement">Jenkins-PluginManagement</a><time datetime="2021-05-08T02:37:50.000Z" title="Created 2021-05-08 10:37:50">2021-05-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/04/26/Spring%E5%BE%AA%E7%8E%AF%E4%BE%9D%E8%B5%96%E9%97%AE%E9%A2%98/" title="Spring循环依赖问题"><img src="https://i.loli.net/2021/04/26/c54glxNrvUZYDFI.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spring循环依赖问题"/></a><div class="content"><a class="title" href="/2021/04/26/Spring%E5%BE%AA%E7%8E%AF%E4%BE%9D%E8%B5%96%E9%97%AE%E9%A2%98/" title="Spring循环依赖问题">Spring循环依赖问题</a><time datetime="2021-04-26T08:56:32.000Z" title="Created 2021-04-26 16:56:32">2021-04-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/04/25/ocserv/" title="ocserv"><img src="https://i.loli.net/2021/04/25/VsgNXUAFuChBxST.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ocserv"/></a><div class="content"><a class="title" href="/2021/04/25/ocserv/" title="ocserv">ocserv</a><time datetime="2021-04-25T03:09:03.000Z" title="Created 2021-04-25 11:09:03">2021-04-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/04/22/ECS-OpenVpn/" title="ECS-OpenVpn"><img src="https://i.loli.net/2021/04/26/zdhHr3KLJVaARw9.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ECS-OpenVpn"/></a><div class="content"><a class="title" href="/2021/04/22/ECS-OpenVpn/" title="ECS-OpenVpn">ECS-OpenVpn</a><time datetime="2021-04-22T06:50:56.000Z" title="Created 2021-04-22 14:50:56">2021-04-22</time></div></div></div></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>Tags</span></div><div class="card-tag-cloud"><a href="/tags/java-springcloud/" style="font-size: 1.1em; color: rgb(80, 150, 180)">java springcloud</a><a href="/tags/jenkins/" style="font-size: 1.1em; color: rgb(49, 200, 150)">jenkins</a><a href="/tags/JAVA-%E5%A0%86%E5%86%85%E5%AD%98/" style="font-size: 1.1em; color: rgb(26, 159, 81)">JAVA 堆内存</a><a href="/tags/linux/" style="font-size: 1.1em; color: rgb(131, 191, 76)">--linux</a><a href="/tags/SLB-Nginx-Lvs/" style="font-size: 1.1em; color: rgb(39, 52, 78)">SLB Nginx Lvs</a><a href="/tags/linux-shell-grep-awk-sed/" style="font-size: 1.1em; color: rgb(79, 54, 86)">linux shell grep awk sed</a><a href="/tags/Spring-java/" style="font-size: 1.1em; color: rgb(4, 118, 75)">Spring java</a><a href="/tags/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%EF%BC%8C%E6%9C%8D%E5%8A%A1%E5%8D%8F%E8%B0%83/" style="font-size: 1.1em; color: rgb(20, 121, 63)">--消息队列，服务协调</a><a href="/tags/ansible/" style="font-size: 1.1em; color: rgb(11, 167, 182)">--ansible</a><a href="/tags/kuvernetes%EF%BC%8Cdocker/" style="font-size: 1.1em; color: rgb(102, 186, 101)">--kuvernetes，docker</a><a href="/tags/mongodb/" style="font-size: 1.1em; color: rgb(152, 123, 85)">mongodb</a><a href="/tags/mongodb/" style="font-size: 1.1em; color: rgb(191, 143, 140)">--mongodb</a><a href="/tags/mysql/" style="font-size: 1.1em; color: rgb(183, 1, 26)">mysql</a><a href="/tags/mariadb-mysql/" style="font-size: 1.1em; color: rgb(199, 80, 159)">--mariadb,mysql</a><a href="/tags/shell%EF%BC%8C/" style="font-size: 1.1em; color: rgb(130, 84, 30)">--shell，$</a><a href="/tags/Jenkins%EF%BC%8Cgit/" style="font-size: 1.1em; color: rgb(36, 142, 136)">--Jenkins，git</a><a href="/tags/%E5%B0%86%E5%A4%9C/" style="font-size: 1.1em; color: rgb(181, 180, 37)">--将夜</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>Archives</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/05/"><span class="card-archive-list-date">May 2021</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/04/"><span class="card-archive-list-date">April 2021</span><span class="card-archive-list-count">5</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/03/"><span class="card-archive-list-date">March 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/02/"><span class="card-archive-list-date">February 2021</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/01/"><span class="card-archive-list-date">January 2021</span><span class="card-archive-list-count">5</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/12/"><span class="card-archive-list-date">December 2020</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/06/"><span class="card-archive-list-date">June 2020</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/03/"><span class="card-archive-list-date">March 2020</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item more is-center"><a class="card-archive-list-link-more" href="/archives/">
              <span>More</span><i class="fas fa-angle-right"  ></i></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article :</div><div class="item-count">23</div></div><div class="webinfo-item"><div class="item-name">Run time :</div><div class="item-count" id="runtimeshow" data-publishDate="2017-10-11T16:00:00.000Z"></div></div><div class="webinfo-item"><div class="item-name">UV :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">PV :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">Last Push :</div><div class="item-count" id="last-push-date" data-lastPushDate="2021-05-08T08:11:31.113Z"></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/index.jpg)"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By 胡晃凤</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">看到这里的人呐，都是天才！</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="font-plus" type="button" title="Increase font size"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="Decrease font size"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="Toggle Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Toggle Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',()=> {preloader.endLoading()})</script><div class="js-pjax"><script>function subtitleType () {
  getScript('https://sdk.jinrishici.com/v2/browser/jinrishici.js').then(() => {
    jinrishici.load(function (result) {
      if (true) {
        var sub = "".length == 0 ? new Array() : "".split(',')
        var content = result.data.content
        var both = sub.unshift(content)
        var typed = new Typed('#subtitle', {
          strings: sub,
          startDelay: 300,
          typeSpeed: 150,
          loop: true,
          backSpeed: 50,
        })
      } else {
        document.getElementById('subtitle').innerHTML = result.data.content
      }
    })
  })
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
  }
} else {
  subtitleType()
}
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="true" data-click="true"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script></div></body></html>